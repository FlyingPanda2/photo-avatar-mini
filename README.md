# üì∏ –§–æ—Ç–æ-–∞–≤–∞—Ç–∞—Ä Mini App —Å AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π

Telegram Mini App –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–≤–∞—Ç–∞—Ä–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI (Stable Diffusion) –∏ –ª–æ–∫–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ç–æ.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–±–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
```bash
# –ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ index.html –≤ –±—Ä–∞—É–∑–µ—Ä–µ
start index.html
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –° –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ AI (Replicate)

#### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

#### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://replicate.com/signin
- –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ API token –Ω–∞ https://replicate.com/account/api-tokens
- –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
```
REPLICATE_API_TOKEN=your_token_here
BACKEND_URL=http://localhost:5000
```

#### 3. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
```bash
python backend.py
```
–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:5000`

#### 4. –û—Ç–∫—Ä–æ–π—Ç–µ Mini App
```bash
start index.html
```

## üåê –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Render.com

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/your-username/photo-avatar-mini.git
git push -u origin main
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –Ω–∞ Render.com
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://render.com
2. –ù–∞–∂–º–∏—Ç–µ "New +" ‚Üí "Web Service"
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Name**: `photo-avatar-api`
   - **Environment**: `Python 3`
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python backend.py`
5. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - **Key**: `REPLICATE_API_TOKEN`
   - **Value**: –≤–∞—à —Ç–æ–∫–µ–Ω Replicate
6. –ù–∞–∂–º–∏—Ç–µ "Create Web Service"

### –®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Mini App
–í `index.html` –æ–±–Ω–æ–≤–∏—Ç–µ `BACKEND_URL`:
```javascript
const BACKEND_URL = 'https://photo-avatar-api.onrender.com';
```

## üìã –§—É–Ω–∫—Ü–∏–∏

### –≠–∫—Ä–∞–Ω 1: –ó–∞–≥—Ä—É–∑–∫–∞
- üì§ –í—ã–±–æ—Ä —Ñ–æ—Ç–æ —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
- ü§ñ –ö–Ω–æ–ø–∫–∞ "–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å" (—Ç—Ä–µ–±—É–µ—Ç –±—ç–∫–µ–Ω–¥)

### –≠–∫—Ä–∞–Ω 2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- üé® **3 —Å—Ç–∏–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**:
  - **–ê–Ω–∏–º–µ** ‚Äî AI –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–ª–∏ –∏—Å—Ö–æ–¥–Ω–æ–µ —Ñ–æ—Ç–æ
  - **–ü–∏–∫—Å–µ–ª—å-–∞—Ä—Ç** ‚Äî –ø–∏–∫—Å–µ–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç (20px –±–ª–æ–∫–∏)
  - **–í–∏–Ω—Ç–∞–∂** ‚Äî —ç—Ñ—Ñ–µ–∫—Ç —Å–µ–ø–∏–∏
- ‚¨ÖÔ∏è ‚û°Ô∏è –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π
- ‚¨áÔ∏è –°–∫–∞—á–∏–≤–∞–Ω–∏–µ PNG
- üîÑ –í—ã–±–æ—Ä –¥—Ä—É–≥–æ–≥–æ —Ñ–æ—Ç–æ

## üéØ API Endpoints

### POST `/generate`
–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ AI
```json
{
  "style": "anime",
  "prompt": "–∫—Ä–∞—Å–∏–≤–∞—è –¥–µ–≤—É—à–∫–∞, –∞–Ω–∏–º–µ —Å—Ç–∏–ª—å"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "url": "https://example.com/image.png",
  "cached": false,
  "style": "anime"
}
```

### GET `/health`
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞
```json
{
  "status": "ok",
  "api_configured": true,
  "cache_size": 5
}
```

### POST `/clear-cache`
–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üíæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–µ—Ä–≤–µ—Ä –∫—ç—à–∏—Ä—É–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ `style + prompt`, —á—Ç–æ–±—ã —ç–∫–æ–Ω–æ–º–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ª–∏–º–∏—Ç Replicate.

## üé® –°—Ç–∏–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### Anime üéå
```
"anime illustration, detailed eyes, vibrant colors, manga style, professional artwork, high quality, 4k"
```

### Pixel Art üéÆ
```
"pixel art, 8-bit, 16-bit retro game style, isometric, colorful, detailed, video game aesthetic"
```

### Vintage üì∑
```
"vintage polaroid photo, 1970s, film grain, warm colors, nostalgic, faded, aged photo, retro"
```

## üîß –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
python backend.py

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
python -m http.server 8000

# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/index.html
```

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|---|---|---|
| `REPLICATE_API_TOKEN` | API –∫–ª—é—á Replicate | (—Ç—Ä–µ–±—É–µ—Ç—Å—è) |
| `BACKEND_URL` | URL –±—ç–∫–µ–Ω–¥–∞ (–≤ HTML) | http://localhost:5000 |
| `FLASK_ENV` | –û–∫—Ä—É–∂–µ–Ω–∏–µ Flask | development |

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ª–∏–º–∏—Ç Replicate**: ~30 –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –≤ –º–µ—Å—è—Ü
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Replicate –∏–ª–∏ –¥—Ä—É–≥–æ–π AI —Å–µ—Ä–≤–∏—Å

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ AI —Å–µ—Ä–≤–∏—Å—ã

–ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å Replicate –Ω–∞:
- **Hugging Face Inference API** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ)
- **OpenAI DALL-E** (–ø–ª–∞—Ç–Ω–æ, –Ω–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ)
- **Stability AI** (–Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ API)

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ REPLICATE_API_TOKEN –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω: `http://localhost:5000/health`
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –æ—à–∏–±–æ–∫

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
